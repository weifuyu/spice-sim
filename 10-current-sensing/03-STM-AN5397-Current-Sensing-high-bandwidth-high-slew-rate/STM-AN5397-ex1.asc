Version 4
SHEET 1 1444 680
WIRE 128 -160 128 -208
WIRE 64 -64 -304 -64
WIRE 384 -64 384 -112
WIRE 128 -48 128 -80
WIRE -304 -16 -304 -64
WIRE 64 64 64 -64
WIRE 112 64 64 64
WIRE 208 64 112 64
WIRE 384 64 384 16
WIRE 384 64 288 64
WIRE 432 64 384 64
WIRE 528 96 528 48
WIRE -304 112 -304 64
WIRE 496 112 464 112
WIRE 64 128 64 64
WIRE 608 128 560 128
WIRE 640 128 608 128
WIRE 880 128 720 128
WIRE 944 128 880 128
WIRE 432 144 432 64
WIRE 496 144 432 144
WIRE 880 160 880 128
WIRE 528 208 528 160
WIRE -304 224 -304 192
WIRE 64 224 64 208
WIRE 64 224 -304 224
WIRE 208 224 64 224
WIRE 384 224 288 224
WIRE 464 224 464 112
WIRE 464 224 384 224
WIRE 880 256 880 224
WIRE 64 288 64 224
WIRE 384 304 384 224
WIRE 464 304 384 304
WIRE 608 304 608 128
WIRE 608 304 544 304
FLAG 128 -48 0
FLAG 128 -208 3V3
IOPIN 128 -208 Out
FLAG 384 -112 3V3
IOPIN 384 -112 In
FLAG 528 48 3V3
IOPIN 528 48 In
FLAG 528 208 0
FLAG 944 128 Vo
IOPIN 944 128 Out
FLAG 880 256 0
FLAG 64 288 0
FLAG 112 64 Vsns
IOPIN 112 64 Out
SYMBOL res 48 112 R0
SYMATTR InstName R1
SYMATTR Value {Rs}
SYMBOL res 304 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rb}
SYMBOL res 304 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R1}
SYMBOL res 368 -80 R0
SYMATTR InstName R4
SYMATTR Value {Ra}
SYMBOL voltage 128 -176 R0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL res 736 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {Rlp}
SYMBOL cap 864 160 R0
SYMATTR InstName C1
SYMATTR Value {Clp}
SYMBOL voltage -304 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 200m 5k)
SYMBOL res 560 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {R2}
SYMBOL voltage -304 -32 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V3
SYMATTR Value ""
SYMBOL Opamps\\AD8515 528 64 R0
SYMATTR InstName U1
TEXT 688 -232 Left 2 !.param Rs = 100m\n.param Ra = 30k\n.param Rb = 2k\n.param R1 = 2k\n.param R2 = 14k\n.param Rlp = 10\n.param Clp=10p
TEXT 696 368 Left 2 !.tran 0 10m 0 100n\n*.ac dec 10 1k 1Meg
TEXT -8 -512 Left 2 ;Reference\n[1] STM AN5397, Amplification for current sensing
TEXT -8 -448 Left 1 ;Disadvantage of the circuit\n[1] Resistor approximation usually required, may have mismatch error\n[2] The common mode not rejected, GND noise can introduce error
TEXT 1136 -96 Left 2 ;AD8515: bandwidth 5MHz\nLT6274: GBP 40MHz
