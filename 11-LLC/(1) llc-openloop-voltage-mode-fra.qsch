ÿØÿÛ«schematic
  «component (-300,400) 0 0
    «symbol SR-flop
      «type: ¥»
      «description: SR-flop(reset dominate)»
      «shorted pins: false»
      «line (500,200) (400,200) 0 0 0x1000000 -1 2»
      «line (450,-200) (500,-200) 0 0 0x1000000 -1 3»
      «rect (-400,400) (400,-400) 0 0 0 0x1000000 0x4000000 -1 0 -1»
      «ellipse (400,-175) (450,-225) 0 0 0 0x1000000 0x1000000 -1 3»
      «text (0,0) 1 15 0 0x1000000 -1 -1 "¥1"»
      «text (0,-150) 0.5 0 2 0x1000000 -1 -1 "SR-FLOP"»
      «pin (0,400) (0,0) 1 0 0 0x1000000 -1 "Vdd"»
      «pin (0,-400) (0,0) 1 0 0 0x1000000 -1 "Vss"»
      «pin (500,200) (-120,0) 1 11 0 0x1000000 -1 "Q"»
      «pin (500,-200) (-120,0) 1 11 0 0x1000000 -1 "¬Q"»
      «pin (-400,200) (50,0) 1 7 0 0x1000000 -1 "S"»
      «pin (-400,-200) (60,0) 1 7 0 0x1000000 -1 "R"»
    »
  »
  «component (-2000,1000) 0 0
    «symbol SCHMITTQ
      «type: ¥»
      «description: SCHMITT trigger»
      «shorted pins: false»
      «line (-200,-300) (-200,300) 0 0 0x1000000 -1 -1»
      «line (-200,300) (400,0) 0 0 0x1000000 -1 -1»
      «line (-200,-300) (400,0) 0 0 0x1000000 -1 -1»
      «line (-25,100) (-25,-100) 0 0 0x1000000 -1 -1»
      «line (25,100) (25,-100) 0 0 0x1000000 -1 -1»
      «line (75,100) (-25,100) 0 0 0x1000000 -1 -1»
      «line (25,-100) (-75,-100) 0 0 0x1000000 -1 -1»
      «line (-100,200) (-150,200) 0 0 0x1000000 -1 4»
      «line (-100,-200) (-150,-200) 0 0 0x1000000 -1 5»
      «line (-125,175) (-125,225) 0 0 0x1000000 -1 4»
      «text (200,300) 1 7 0 0x1000000 -1 -1 "¥2"»
      «text (50,0) 0.769812 0 2 0x1000000 -1 -1 "HMITT"»
      «pin (0,200) (0,0) 1 0 0 0x1000000 -1 "Vdd"»
      «pin (0,-200) (0,0) 1 0 0 0x1000000 -1 "Vss"»
      «pin (400,0) (0,0) 1 0 0 0x1000000 -1 "Q"»
      «pin (0,0) (0,0) 1 0 0 0x1000000 -1 "¬Q" "¥"»
      «pin (-200,200) (0,0) 1 0 0 0x1000000 -1 "b0"»
      «pin (-200,-200) (0,0) 1 0 0 0x1000000 -1 "b1"»
      «pin (-200,0) (10,0) 0.681 7 0 0x1000000 -1 "EN"»
    »
  »
  «component (-7700,700) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V1"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "10"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-7000,700) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V2"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "0.9"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-6400,700) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V3"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "3.8"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-3800,-100) 0 0
    «symbol C
      «type: C»
      «description: Capacitor»
      «shorted pins: false»
      «line (0,200) (0,40) 0 0 0x1000000 -1 -1»
      «line (0,-40) (0,-200) 0 0 0x1000000 -1 -1»
      «rect (-130,-40) (130,-30) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-130,30) (130,40) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "C1"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{CT}"»
      «text (150,-300) 1 7 0 0x1000000 -1 -1 "IC=0"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-2000,-100) 0 0
    «symbol SCHMITTQ
      «type: ¥»
      «description: SCHMITT trigger»
      «shorted pins: false»
      «line (-200,-300) (-200,300) 0 0 0x1000000 -1 -1»
      «line (-200,300) (400,0) 0 0 0x1000000 -1 -1»
      «line (-200,-300) (400,0) 0 0 0x1000000 -1 -1»
      «line (-25,100) (-25,-100) 0 0 0x1000000 -1 -1»
      «line (25,100) (25,-100) 0 0 0x1000000 -1 -1»
      «line (75,100) (-25,100) 0 0 0x1000000 -1 -1»
      «line (25,-100) (-75,-100) 0 0 0x1000000 -1 -1»
      «line (-100,200) (-150,200) 0 0 0x1000000 -1 4»
      «line (-100,-200) (-150,-200) 0 0 0x1000000 -1 5»
      «line (-125,175) (-125,225) 0 0 0x1000000 -1 4»
      «text (200,300) 1 7 0 0x1000000 -1 -1 "¥3"»
      «text (50,0) 0.769812 0 2 0x1000000 -1 -1 "HMITT"»
      «pin (0,200) (0,0) 1 0 0 0x1000000 -1 "Vdd"»
      «pin (0,-200) (0,0) 1 0 0 0x1000000 -1 "Vss"»
      «pin (400,0) (0,0) 1 0 0 0x1000000 -1 "Q"»
      «pin (0,0) (0,0) 1 0 0 0x1000000 -1 "¬Q" "¥"»
      «pin (-200,200) (0,0) 1 0 0 0x1000000 -1 "b0"»
      «pin (-200,-200) (0,0) 1 0 0 0x1000000 -1 "b1"»
      «pin (-200,0) (10,0) 0.681 7 0 0x1000000 -1 "EN"»
    »
  »
  «component (-3100,-1500) 0 0
    «symbol R
      «type: R»
      «description: Resistor(USA Style Symbol)»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-180) (0,-200) 0 0 0x1000000 -1 -1»
      «zigzag (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "R1"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{Rfmax}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «component (-4700,-1500) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V4"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{Vref}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-4700,-200) 4 0
    «symbol B2
      «type: B»
      «description: Behavioral Current Source»
      «shorted pins: false»
      «line (0,200) (0,150) 0 0 0x1000000 -1 -1»
      «line (0,-150) (0,-200) 0 0 0x1000000 -1 -1»
      «rect (-25,102) (25,98) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,75) (2,125) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-98) (25,-102) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-100,-150) (100,50) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-100,-50) (100,150) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (150,-150) 1 75 0 0x1000000 -1 -1 "B2"»
      «text (150,150) 1 75 0 0x1000000 -1 -1 "I=if(V(Q)>2, Iset()*2, 0)"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
    »
  »
  «component (-4700,600) 4 0
    «symbol B2
      «type: B»
      «description: Behavioral Current Source»
      «shorted pins: false»
      «line (0,200) (0,150) 0 0 0x1000000 -1 -1»
      «line (0,-150) (0,-200) 0 0 0x1000000 -1 -1»
      «rect (-25,102) (25,98) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,75) (2,125) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-98) (25,-102) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-100,-150) (100,50) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-100,-50) (100,150) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (150,-150) 1 75 0 0x1000000 -1 -1 "B1"»
      «text (150,150) 1 75 0 0x1000000 -1 -1 "I=Iset()"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
    »
  »
  «component (-3100,-2300) 12 1
    «symbol I
      «type: I»
      «description: Current Source»
      «shorted pins: false»
      «line (0,200) (0,150) 0 0 0x1000000 -1 -1»
      «line (0,-150) (0,-200) 0 0 0x1000000 -1 -1»
      «rect (-25,102) (25,98) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,75) (2,125) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-98) (25,-102) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-100,-150) (100,50) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-100,-50) (100,150) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (150,-150) 1 75 0 0x1000000 -1 -1 "I1"»
      «text (150,150) 1 75 0 0x1000000 -1 -1 "PWL 0 0 {t_sim} {Vref/Rfmax}"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
    »
  »
  «component (-3900,-1600) 0 0
    «symbol R
      «type: R»
      «description: Resistor(USA Style Symbol)»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-180) (0,-200) 0 0 0x1000000 -1 -1»
      «zigzag (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "R2"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{Rfmin}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «component (1000,800) 0 0
    «symbol BUFQ
      «type: ¥»
      «description: Buffer»
      «shorted pins: false»
      «line (-100,-150) (200,0) 0 0 0x1000000 -1 -1»
      «line (200,0) (-100,150) 0 0 0x1000000 -1 -1»
      «line (-100,150) (-100,-150) 0 0 0x1000000 -1 -1»
      «text (100,100) 1 7 0 0x1000000 -1 -1 "¥4"»
      «text (20,0) 1 0 2 0x1000000 -1 -1 "OR"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "Td={Td_rise}"»
      «text (100,-300) 1 7 0 0x1000000 -1 -1 "Td2={Td_fall}"»
      «pin (0,100) (0,0) 1 0 0 0x1000000 -1 "Vdd"»
      «pin (0,-100) (0,0) 1 0 0 0x1000000 -1 "Vss"»
      «pin (200,0) (0,0) 1 0 0 0x1000000 -1 "Q"»
      «pin (100,0) (0,0) 1 0 0 0x1000000 -1 "¬Q" "¥"»
      «pin (-100,0) (0,0) 1 0 0 0x1000000 -1 "b0"»
    »
  »
  «component (-2600,-2800) 0 1
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V5"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "PWL 0 0 {t_sim} {Vref}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (1000,0) 0 0
    «symbol BUFQ
      «type: ¥»
      «description: Buffer»
      «shorted pins: false»
      «line (-100,-150) (200,0) 0 0 0x1000000 -1 -1»
      «line (200,0) (-100,150) 0 0 0x1000000 -1 -1»
      «line (-100,150) (-100,-150) 0 0 0x1000000 -1 -1»
      «text (100,100) 1 7 0 0x1000000 -1 -1 "¥5"»
      «text (20,0) 1 0 2 0x1000000 -1 -1 "OR"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "Td={Td_rise}"»
      «text (100,-300) 1 7 0 0x1000000 -1 -1 "Td2={Td_fall}"»
      «pin (0,100) (0,0) 1 0 0 0x1000000 -1 "Vdd"»
      «pin (0,-100) (0,0) 1 0 0 0x1000000 -1 "Vss"»
      «pin (200,0) (0,0) 1 0 0 0x1000000 -1 "Q"»
      «pin (100,0) (0,0) 1 0 0 0x1000000 -1 "¬Q" "¥"»
      «pin (-100,0) (0,0) 1 0 0 0x1000000 -1 "b0"»
    »
  »
  «component (-2000,-3900) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V6"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "DC Vcomp AC 1"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-6000,4300) 0 0
    «symbol SW
      «type: S»
      «description: Voltage Controlled Switch»
      «shorted pins: false»
      «line (-136,100) (-200,100) 0 0 0x1000000 -1 -1»
      «line (-136,100) (-121,89) 0 0 0x1000000 -1 -1»
      «line (-136,-100) (-200,-100) 0 0 0x1000000 -1 -1»
      «line (-165,91) (-165,61) 0 0 0x1000000 -1 -1»
      «line (-180,76) (-150,76) 0 0 0x1000000 -1 -1»
      «line (-180,-76) (-150,-76) 0 0 0x1000000 -1 -1»
      «line (-136,-100) (-121,-89) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,105) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-105) 0 0 0x1000000 -1 -1»
      «line (94,-45) (15,60) 0 0 0x1000000 -1 -1»
      «ellipse (-150,-150) (150,150) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-25,55) (25,105) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-25,-105) (25,-55) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,200) 1 7 0 0x1000000 -1 -1 "S1"»
      «text (100,-200) 1 7 0 0x1000000 -1 -1 "idsw"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
      «pin (-200,100) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (-200,-100) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-6000,3200) 0 0
    «symbol SW
      «type: S»
      «description: Voltage Controlled Switch»
      «shorted pins: false»
      «line (-136,100) (-200,100) 0 0 0x1000000 -1 -1»
      «line (-136,100) (-121,89) 0 0 0x1000000 -1 -1»
      «line (-136,-100) (-200,-100) 0 0 0x1000000 -1 -1»
      «line (-165,91) (-165,61) 0 0 0x1000000 -1 -1»
      «line (-180,76) (-150,76) 0 0 0x1000000 -1 -1»
      «line (-180,-76) (-150,-76) 0 0 0x1000000 -1 -1»
      «line (-136,-100) (-121,-89) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,105) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-105) 0 0 0x1000000 -1 -1»
      «line (94,-45) (15,60) 0 0 0x1000000 -1 -1»
      «ellipse (-150,-150) (150,150) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-25,55) (25,105) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-25,-105) (25,-55) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,200) 1 7 0 0x1000000 -1 -1 "S2"»
      «text (100,-200) 1 7 0 0x1000000 -1 -1 "idsw"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
      «pin (-200,100) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (-200,-100) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-7200,4500) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V7"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{Vdc}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-3800,2500) 0 0
    «symbol C
      «type: C»
      «description: Capacitor»
      «shorted pins: false»
      «line (0,200) (0,40) 0 0 0x1000000 -1 -1»
      «line (0,-40) (0,-200) 0 0 0x1000000 -1 -1»
      «rect (-130,-40) (130,-30) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-130,30) (130,40) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "C2"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{Cr}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-4000,3800) 2 0
    «symbol L
      «type: L»
      «description: Inductor»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-180) 0 0 0x1000000 -1 -1»
      «coil (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (80,0) 1 110 0 0x1000000 -1 -1 "Lr"»
      «text (-80,0) 1 109 0 0x1000000 -1 -1 "{Lr}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «component (-3500,3400) 0 0
    «symbol L
      «type: L»
      «description: Inductor»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-180) 0 0 0x1000000 -1 -1»
      «coil (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "Lm"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{Lm}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «component (-2500,3400) 0 0
    «symbol Transformer2
      «type: ×»
      «shorted pins: false»
      «line (-200,200) (-110,200) 0 0 0x1000000 -1 -1»
      «line (10,500) (100,500) 0 0 0x1000000 -1 -1»
      «line (-200,-200) (-110,-200) 0 0 0x1000000 -1 -1»
      «line (-110,200) (-110,170) 0 0 0x1000000 -1 -1»
      «line (-110,-180) (-110,-200) 0 0 0x1000000 -1 -1»
      «line (10,120) (10,100) 0 0 0x1000000 -1 -1»
      «line (10,500) (10,470) 0 0 0x1000000 -1 -1»
      «line (10,100) (100,100) 0 0 0x1000000 -1 -1»
      «line (10,-100) (100,-100) 0 0 0x1000000 -1 -1»
      «line (10,-480) (10,-500) 0 0 0x1000000 -1 -1»
      «line (10,-100) (10,-130) 0 0 0x1000000 -1 -1»
      «line (10,-500) (100,-500) 0 0 0x1000000 -1 -1»
      «line (-50,500) (-50,-500) 0 1 0x1000000 -1 -1»
      «ellipse (-165,180) (-125,140) 0 0 0 0x1000000 0x3000000 -1 -1»
      «ellipse (25,480) (65,440) 0 0 0 0x1000000 0x3000000 -1 -1»
      «ellipse (25,-120) (65,-160) 0 0 0 0x1000000 0x3000000 -1 -1»
      «coil (-150,170) (-70,-180) 0 0 0 0x1000000 -1 -1»
      «coil (50,470) (-30,120) 0 0 0 0x1000000 -1 -1»
      «coil (50,-130) (-30,-480) 0 0 0 0x1000000 -1 -1»
      «text (-50,498) 1 14 0 0x1000000 -1 -1 "×1"»
      «text (-50,-508) 1 13 0 0x1000000 -1 -1 "Turns=n 1 1"»
      «pin (-200,200) (0,0) 1 0 0 0x1000000 -1 "PRI+"»
      «pin (-200,-200) (0,0) 1 0 0 0x1000000 -1 "PRI-"»
      «pin (100,500) (0,0) 1 0 0 0x1000000 -1 "SEC1+"»
      «pin (100,100) (0,0) 1 0 0 0x1000000 -1 "SEC1-"»
      «pin (100,-100) (0,0) 1 0 0 0x1000000 -1 "SEC2+"»
      «pin (100,-500) (0,0) 1 0 0 0x1000000 -1 "SEC2-"»
    »
  »
  «component (-1700,3900) 6 0
    «symbol D
      «type: D»
      «description: Silicon Diode»
      «library file: Diode.txt»
      «shorted pins: false»
      «line (100,80) (-100,80) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,80) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-70) 0 0 0x1000000 -1 -1»
      «triangle (0,80) (100,-70) (-100,-70) 0 0 0x1000000 0x2000000 -1 -1»
      «text (-100,0) 1 46 0 0x1000000 -1 -1 "D1"»
      «text (100,0) 1 45 0 0x1000000 -1 -1 "idd"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "A"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "K"»
    »
  »
  «component (-1700,2900) 6 0
    «symbol D
      «type: D»
      «description: Silicon Diode»
      «library file: Diode.txt»
      «shorted pins: false»
      «line (100,80) (-100,80) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,80) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-70) 0 0 0x1000000 -1 -1»
      «triangle (0,80) (100,-70) (-100,-70) 0 0 0x1000000 0x2000000 -1 -1»
      «text (-100,0) 1 46 0 0x1000000 -1 -1 "D2"»
      «text (100,0) 1 45 0 0x1000000 -1 -1 "idd"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "A"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "K"»
    »
  »
  «component (-700,3300) 0 0
    «symbol C
      «type: C»
      «description: Capacitor»
      «shorted pins: false»
      «line (0,200) (0,40) 0 0 0x1000000 -1 -1»
      «line (0,-40) (0,-200) 0 0 0x1000000 -1 -1»
      «rect (-130,-40) (130,-30) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-130,30) (130,40) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "C3"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{Co}"»
      «text (150,-350) 1 7 0 0x1000000 -1 -1 "IC=48"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-5500,4300) 0 0
    «symbol C
      «type: C»
      «description: Capacitor»
      «shorted pins: false»
      «line (0,200) (0,40) 0 0 0x1000000 -1 -1»
      «line (0,-40) (0,-200) 0 0 0x1000000 -1 -1»
      «rect (-130,-40) (130,-30) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-130,30) (130,40) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "C4"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{Coss}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-5500,3200) 0 0
    «symbol C
      «type: C»
      «description: Capacitor»
      «shorted pins: false»
      «line (0,200) (0,40) 0 0 0x1000000 -1 -1»
      «line (0,-40) (0,-200) 0 0 0x1000000 -1 -1»
      «rect (-130,-40) (130,-30) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-130,30) (130,40) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "C5"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{Coss}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-5000,4400) 0 0
    «symbol D
      «type: D»
      «description: Silicon Diode»
      «library file: Diode.txt»
      «shorted pins: false»
      «line (100,80) (-100,80) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,80) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-70) 0 0 0x1000000 -1 -1»
      «triangle (0,80) (100,-70) (-100,-70) 0 0 0x1000000 0x2000000 -1 -1»
      «text (100,200) 1 7 0 0x1000000 -1 -1 "D3"»
      «text (100,-200) 1 7 0 0x1000000 -1 -1 "RFNL10TJ6S"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "A"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "K"»
    »
  »
  «component (-5000,3200) 0 0
    «symbol D
      «type: D»
      «description: Silicon Diode»
      «library file: Diode.txt»
      «shorted pins: false»
      «line (100,80) (-100,80) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,80) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-70) 0 0 0x1000000 -1 -1»
      «triangle (0,80) (100,-70) (-100,-70) 0 0 0x1000000 0x2000000 -1 -1»
      «text (100,200) 1 7 0 0x1000000 -1 -1 "D4"»
      «text (100,-200) 1 7 0 0x1000000 -1 -1 "RFNL10TJ6S"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "A"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "K"»
    »
  »
  «component (200,3300) 0 0
    «symbol R
      «type: R»
      «description: Resistor(USA Style Symbol)»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-180) (0,-200) 0 0 0x1000000 -1 -1»
      «zigzag (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "R3"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "{RL}"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «component (-2000,-3300) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V8"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "SINE 0 10m Freq"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-4600,3800) 2 0
    «symbol R
      «type: R»
      «description: Resistor(USA Style Symbol)»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-180) (0,-200) 0 0 0x1000000 -1 -1»
      «zigzag (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (80,0) 1 110 0 0x1000000 -1 -1 "R4"»
      «text (-80,0) 1 109 0 0x1000000 -1 -1 "20m"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «net (-7700,400) 1 13 0 "GND"»
  «net (-7600,1100) 1 7 0 "10V"»
  «net (-2500,900) 1 7 0 "10V"»
  «net (-7000,400) 1 13 0 "GND"»
  «net (-6900,1100) 1 7 0 "0V9"»
  «net (-6400,400) 1 13 0 "GND"»
  «net (-6300,1100) 1 7 0 "3V8"»
  «net (-2500,1200) 1 11 0 "0V9"»
  «net (-2500,-300) 1 11 0 "3V8"»
  «net (-300,-200) 1 13 0 "GND"»
  «net (-300,1000) 1 14 0 "10V"»
  «net (-4700,-500) 1 13 0 "GND"»
  «net (-4700,1000) 1 14 0 "10V"»
  «net (-3800,-500) 1 13 0 "GND"»
  «net (-2000,1400) 1 14 0 "10V"»
  «net (-2000,600) 1 13 0 "GND"»
  «net (-2000,300) 1 14 0 "10V"»
  «net (-2000,-500) 1 13 0 "GND"»
  «net (400,600) 1 14 0 "Q"»
  «net (-3500,200) 1 14 0 "CT"»
  «net (-4700,-2000) 1 13 0 "GND"»
  «net (-3100,-2700) 1 13 0 "GND"»
  «net (-3900,-2000) 1 13 0 "GND"»
  «net (-2600,-3200) 1 13 0 "GND"»
  «net (1600,800) 1 7 0 "gh"»
  «net (1700,0) 1 7 0 "gl"»
  «net (1000,1000) 1 14 0 "10V"»
  «net (1000,600) 1 13 0 "GND"»
  «net (1000,200) 1 14 0 "10V"»
  «net (1000,-200) 1 13 0 "GND"»
  «net (-2600,-1900) 1 14 0 "comp"»
  «net (-2000,-4300) 1 13 0 "GND"»
  «net (-6000,2600) 1 13 0 "GND"»
  «net (-7200,4100) 1 13 0 "GND"»
  «net (-6400,4100) 1 13 0 "GND"»
  «net (-6400,3000) 1 13 0 "GND"»
  «net (-6400,4400) 1 11 0 "gh"»
  «net (-6400,3300) 1 11 0 "gl"»
  «net (-3800,2200) 1 13 0 "GND"»
  «net (-2000,3400) 1 7 0 "GND"»
  «net (-700,2900) 1 13 0 "GND"»
  «net (-900,3900) 1 14 0 "out"»
  «net (-7100,4900) 1 14 0 "bus"»
  «net (200,2900) 1 13 0 "GND"»
  «net (-5900,3800) 1 14 0 "sw"»
  «net (-3800,2800) 1 7 0 "Cr"»
  «junction (-700,3900)»
  «junction (-1200,3900)»
  «junction (-2300,3400)»
  «junction (-2400,200)»
  «junction (-2600,-1900)»
  «junction (-3100,-1900)»
  «junction (-3500,3800)»
  «junction (-3500,3000)»
  «junction (-3800,200)»
  «junction (-3900,-1000)»
  «junction (-4700,200)»
  «junction (-5500,4700)»
  «junction (-5500,4000)»
  «junction (-5500,3600)»
  «junction (-5500,2800)»
  «junction (-6000,4700)»
  «junction (-6000,4000)»
  «junction (-6000,3800)»
  «junction (-6000,3600)»
  «junction (-6000,2800)»
  «wire (-2200,100) (-2400,100) "CT"»
  «wire (-2400,200) (-2400,800) "CT"»
  «wire (-2200,800) (-2400,800) "CT"»
  «wire (-2400,100) (-2400,200) "CT"»
  «wire (-2200,1000) (-2500,1000) "10V"»
  «wire (-2500,900) (-2500,-100) "10V"»
  «wire (-2200,-100) (-2500,-100) "10V"»
  «wire (-7700,900) (-7700,1100) "10V"»
  «wire (-7700,400) (-7700,500) "GND"»
  «wire (-7700,1100) (-7600,1100) "10V"»
  «wire (-2500,1000) (-2500,900) "10V"»
  «wire (-7000,900) (-7000,1100) "0V9"»
  «wire (-7000,400) (-7000,500) "GND"»
  «wire (-7000,1100) (-6900,1100) "0V9"»
  «wire (-6400,900) (-6400,1100) "3V8"»
  «wire (-6400,400) (-6400,500) "GND"»
  «wire (-6400,1100) (-6300,1100) "3V8"»
  «wire (-2500,1200) (-2200,1200) "0V9"»
  «wire (-2500,-300) (-2200,-300) "3V8"»
  «wire (-1600,1000) (-1400,1000) "N01"»
  «wire (-1400,1000) (-1400,200) "N01"»
  «wire (-1400,200) (-700,200) "N01"»
  «wire (-1600,-100) (-1100,-100) "N02"»
  «wire (-1100,-100) (-1100,600) "N02"»
  «wire (-1100,600) (-700,600) "N02"»
  «wire (-300,800) (-300,1000) "10V"»
  «wire (-300,-200) (-300,0) "GND"»
  «wire (-4700,-500) (-4700,-400) "GND"»
  «wire (-4700,1000) (-4700,800) "10V"»
  «wire (-3800,-300) (-3800,-500) "GND"»
  «wire (-3800,200) (-3800,100) "CT"»
  «wire (-4700,200) (-3800,200) "CT"»
  «wire (-4700,0) (-4700,200) "CT"»
  «wire (-2000,1200) (-2000,1400) "10V"»
  «wire (-2000,600) (-2000,800) "GND"»
  «wire (-2000,100) (-2000,300) "10V"»
  «wire (-2000,-500) (-2000,-300) "GND"»
  «wire (-4700,400) (-4700,200) "CT"»
  «wire (200,600) (400,600) "Q"»
  «wire (-4700,-1300) (-4700,-1000) "N03"»
  «wire (-4700,-2000) (-4700,-1700) "GND"»
  «wire (-3100,-2500) (-3100,-2700) "GND"»
  «wire (-3100,-1000) (-3100,-1300) "N03"»
  «wire (-3100,-1900) (-3100,-2100) "comp"»
  «wire (-3900,-1800) (-3900,-2000) "GND"»
  «wire (-3900,-1400) (-3900,-1000) "N03"»
  «wire (-3900,-1000) (-3100,-1000) "N03"»
  «wire (-3900,-1000) (-4700,-1000) "N03"»
  «wire (-3500,200) (-3800,200) "CT"»
  «wire (-3500,200) (-2400,200) "CT"»
  «wire (-2600,-3200) (-2600,-3000) "GND"»
  «wire (-3100,-1700) (-3100,-1900) "comp"»
  «wire (200,200) (500,200) "N04"»
  «wire (500,200) (500,0) "N04"»
  «wire (500,0) (900,0) "N04"»
  «wire (1200,800) (1600,800) "gh"»
  «wire (1700,0) (1200,0) "gl"»
  «wire (400,600) (500,600) "Q"»
  «wire (500,600) (500,800) "Q"»
  «wire (500,800) (900,800) "Q"»
  «wire (1000,900) (1000,1000) "10V"»
  «wire (1000,600) (1000,700) "GND"»
  «wire (1000,100) (1000,200) "10V"»
  «wire (1000,-200) (1000,-100) "GND"»
  «wire (-2600,-2600) (-2600,-1900) "comp"»
  «wire (-2000,-3100) (-2000,-1900) "comp"»
  «wire (-2000,-4300) (-2000,-4100) "GND"»
  «wire (-2600,-1900) (-3100,-1900) "comp"»
  «wire (-2000,-1900) (-2600,-1900) "comp"»
  «wire (-6000,4700) (-6000,4900) "bus"»
  «wire (-6000,2800) (-6000,3000) "GND"»
  «wire (-7100,4900) (-6000,4900) "bus"»
  «wire (-7200,4700) (-7200,4900) "bus"»
  «wire (-7200,4100) (-7200,4300) "GND"»
  «wire (-6400,4100) (-6400,4200) "GND"»
  «wire (-6400,4200) (-6200,4200) "GND"»
  «wire (-6400,3000) (-6400,3100) "GND"»
  «wire (-6400,3100) (-6200,3100) "GND"»
  «wire (-6400,3300) (-6200,3300) "gl"»
  «wire (-6400,4400) (-6200,4400) "gh"»
  «wire (-6000,3600) (-6000,3800) "sw"»
  «wire (-3800,2800) (-3800,3000) "Cr"»
  «wire (-3800,2200) (-3800,2300) "GND"»
  «wire (-3500,3200) (-3500,3000) "Cr"»
  «wire (-3800,3800) (-3500,3800) "N05"»
  «wire (-3800,3000) (-3500,3000) "Cr"»
  «wire (-3500,3800) (-3500,3600) "N05"»
  «wire (-3500,3800) (-2700,3800) "N05"»
  «wire (-2700,3200) (-2700,3000) "Cr"»
  «wire (-2700,3800) (-2700,3600) "N05"»
  «wire (-2700,3000) (-3500,3000) "Cr"»
  «wire (-2400,3500) (-2300,3500) "GND"»
  «wire (-2300,3400) (-2300,3300) "GND"»
  «wire (-2300,3300) (-2400,3300) "GND"»
  «wire (-2300,3400) (-2000,3400) "GND"»
  «wire (-2300,3500) (-2300,3400) "GND"»
  «wire (-1500,3900) (-1200,3900) "out"»
  «wire (-2400,3900) (-1900,3900) "N06"»
  «wire (-1200,3900) (-1200,2900) "out"»
  «wire (-1900,2900) (-2400,2900) "N07"»
  «wire (-1200,2900) (-1500,2900) "out"»
  «wire (-700,3500) (-700,3900) "out"»
  «wire (-700,2900) (-700,3100) "GND"»
  «wire (-900,3900) (-1200,3900) "out"»
  «wire (-7200,4900) (-7100,4900) "bus"»
  «wire (200,3500) (200,3900) "out"»
  «wire (200,2900) (200,3100) "GND"»
  «wire (-700,3900) (-900,3900) "out"»
  «wire (200,3900) (-700,3900) "out"»
  «wire (-6000,3800) (-5900,3800) "sw"»
  «wire (-5500,4500) (-5500,4700) "bus"»
  «wire (-5500,4700) (-6000,4700) "bus"»
  «wire (-6000,4500) (-6000,4700) "bus"»
  «wire (-4400,3800) (-4200,3800) "N08"»
  «wire (-5500,3600) (-5500,3400) "sw"»
  «wire (-5500,3000) (-5500,2800) "GND"»
  «wire (-5500,2800) (-6000,2800) "GND"»
  «wire (-6000,2600) (-6000,2800) "GND"»
  «wire (-6000,3600) (-5500,3600) "sw"»
  «wire (-6000,3400) (-6000,3600) "sw"»
  «wire (-6000,4000) (-6000,3800) "sw"»
  «wire (-6000,4000) (-5500,4000) "sw"»
  «wire (-5500,4100) (-5500,4000) "sw"»
  «wire (-6000,4100) (-6000,4000) "sw"»
  «wire (-5500,4000) (-5000,4000) "sw"»
  «wire (-5000,4600) (-5000,4700) "bus"»
  «wire (-5000,4000) (-5000,4200) "sw"»
  «wire (-5000,4700) (-5500,4700) "bus"»
  «wire (-5500,3600) (-5000,3600) "sw"»
  «wire (-5000,3000) (-5000,2800) "GND"»
  «wire (-5000,3600) (-5000,3400) "sw"»
  «wire (-5000,2800) (-5500,2800) "GND"»
  «wire (-3800,2700) (-3800,2800) "Cr"»
  «wire (-2000,-3700) (-2000,-3500) "N09"»
  «wire (-5900,3800) (-4800,3800) "sw"»
  «text (-5300,-4600) 1 7 1 0x1000000 -1 -1 "ï»¿By controlling R1 current, or `comp` node voltage, it controls the resonant frequency. \nThe oscillator is an re-implementation of HR1001B one from it's datasheet. "»
  «text (-6750,5150) 1 7 0 0x1000000 -1 -1 "ï»¿.model idsw SW Ron=150m Roff=10e6 Vt=2 Vh=0.5\n.model idd D Ron=1m Roff=100Meg Vfwd=0.5)"»
  «text (250,-7150) 1 7 1 0x1000000 -1 -1 "ï»¿.param t_sim = 30m\n.tran 0 {t_sim} 0 10n \n \n*.plot tran V(CT)\n*.plot tran V(q) V(comp)\n.plot tran V(gh) V(gl)\n \n.plot tran I(Lr) I(Lm)\n.plot tran V(out)\n.plot tran V(Cr)\n*.plot tran V(sw)\n"»
  «text (200,-750) 1 7 0 0x1000000 -1 -1 "ï»¿.param Td_fall = 10n \n.param dt = 100n \n.param Td_rise = dt + Td_fall"»
  «text (6250,-6500) 1 7 1 0x1000000 -1 -1 "ï»¿.tran 0 7m 2m 10n\n \n.meas gain FRA Freq V(comp) V(out)\n.step dec param Freq 1000 100K 25\n \n*.plot tran V(out)\n*.plot tran V(comp)\n"»
  «text (2900,-5400) 1 7 0 0x1000000 -1 -1 "ï»¿.param Freq=12K\n.param Vcomp=1.667"»
  «text (1150,3950) 1 7 0 0x1000000 -1 -1 "ï»¿.param Vdc = 400 \n \n.param Coss = 50p \n.param Lr = 14Âµ\n.param Ln = 5 \n.param Lm = Lr*Ln\n.param n =  4\n.param Cr = 30n\n \n.param Co = 660Âµ\n.param RL = 2.3"»
  «text (-7400,-2200) 1 7 0 0x1000000 -1 -1 "ï»¿.param fo = 250K\n.param fmin = 175K\n.param fmax = 625K\n \n.param Vref = 2 \n.param CT = 150p \n \n.param Rfmin = 1/(3*CT*fmin)\n.param Rfmax = 1/((3*CT*fmax) - 1/Rfmin)\n \n.func Iset() I(R2)+I(R1)"»
  «text (6200,-4850) 1 7 1 0x1000000 -1 -1 "ï»¿Bode plot using simplis\nhttps://electronics.stackexchange.com/questions/629503/boost-output-impedance-simulation"»
  «text (2950,-4400) 1 7 1 0x1000000 -1 -1 "ï»¿| Vcomp | fsw, kHz |\n|:-----:|:--------:|\n| 1.222 |    350   |\n| 1.333 |    350   |\n| 1.667 |    250   |\n| 1.889 |    200   |"»
  «text (5000,3700) 1 7 1 0x1000000 -1 -1 "ï»¿This article "Extracting Switch Mode Power Supply Loop Gain in Simulation and Why You Usually Don't Need To" describes\na method to extract openloop gain proposed by RD Middlebrook. The technique of using injected test signals and Fourier analysis is called \nFrequency Response Analysis (FRA).\nhttps://ltwiki.org/LTspiceHelpXVII/LTspiceHelp/html/Bode.htm\n \nQspice implemented at least two methods natively to extract openloop gain for SMPS,\n(1) .bode command\n(2) .meas NAME fra FREQ [...] that is same as the one describes in above article by sweeping FRA at individual frequent points \n  \n-----------------------------------------------------------------------------  \nMike Engelhardt:\n* The .bode command is for extracting the open loop gain from the circuit while itâ€™s operating closed loop.\n* But it added feature using .options bodeinput=â€¦ and .options bodeout=â€¦ to allow override the input and output nodes used for .bode analysis. \n \nMike Engelhardt: https://forum.qorvo.com/t/example-of-using-meas-fra/14527/2\n* .meas FRAâ€¦ is probably the very most accurate way of extracting the open loop voltage gain at a specific frequency.\n \nExtraction from Qspice help documentation, chapter Frequency Response Analysis(SMPS Bode Plots)\n* This (.bode method) is a computationally intensive task. In the interest of getting a complete Bode plot in under one minute, \na number of original numerical methods are used. The Bode plot can be left with artifacts due to spectral leakage, aperture diffraction, \nand even stochastic noise, If concerned about the reliability of the result, individual points, such as the phase and gain margins of the Bode plot, \ncan easily checked via the .measure command .meas NAME fra FREQ INPUT OUTPUT [...]. This .meas command is irrefutably the most reliable way of \nobtaining frequency domain response from a SMPS that's ever been used in any simulator.\n-----------------------------------------------------------------------------"»
  «text (2600,-6700) 1 7 0 0x1000000 -1 -1 "ï»¿.bode V8 10m 1000 500K 10m\n.options bodeinput=comp bodeoutput=out\n.options MAXSTEP=20nÂ \n.options bodeampfreq=5K\n.options bodelopow=1 bodehipow=1\n.options BODETOL=3\n \n.step param Vcomp list 1.222 1.556 1.667 1.889"»
»

